[English](MCP_SETUP.md) | العربية

# إعداد خادم تصحيح أخطاء BizHawk

> ⚠️ **تنبيه هام**: جميع الأدوات تعمل **فقط على حالة المحاكي المؤقتة في وقت التشغيل**. لا تقوم بتعديل الملفات أو كود الخادم أو الإعدادات أو النظام المضيف.

## التثبيت

```bash
pip install -r requirements.txt
```

---

## الإعداد

### 1. تشغيل BizHawk

1. **افتح BizHawk** وحمّل ملف ROM
2. **Tools → Lua Console**
3. **حمّل** `src/bizhawk_debug_api.lua`
4. سيظهر السكربت "BizHawk Debug API Ready!"

### 2. تشغيل خادم Python

```bash
python src/bizhawk_mcp_server.py
```

---

## كيفية إرسال الأوامر

يتم التواصل عبر ملفات JSON:

1. **اكتب الأمر** في `src/debug_commands.json` مع `id` فريد متزايد
2. **اقرأ الاستجابة** من `src/debug_response.json`
3. **تحقق** من تطابق `commandId` قبل استخدام النتيجة

---

## أمثلة الأوامر

### عرض نطاقات الذاكرة

---

## نطاقات الذاكرة المتاحة

| النطاق | الحجم | الوصف |
|--------|-------|-------|
| `System Bus` | 64KB | مساحة العناوين الكاملة (افتراضي) |
| `RAM` | 2KB | ذاكرة العمل |
| `PALRAM` | 32B | لوحة ألوان PPU |
| `OAM` | 256B | ذاكرة سمات الكائنات المتحركة |
| `PRG ROM` | متغير | ذاكرة البرنامج للقراءة فقط |
| `CHR` / `CHR VROM` | متغير | ذاكرة الرسومات للقراءة فقط |

---

## مرجع لوحة ألوان NES



---

## التحقق من الاتصال

أرسل هذا الأمر:
```json
{"id": 1, "action": "cpu.getState"}
```

إذا كان يعمل، ستظهر سجلات المعالج وعدد الإطارات في الاستجابة.

---

## الأوامر المتاحة

راجع [API_README.ar.md](API_README.ar.md) للمرجع الكامل.
